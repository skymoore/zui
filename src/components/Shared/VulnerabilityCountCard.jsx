import React from 'react';

import { Stack, Tooltip, Box } from '@mui/material';

const criticalColor = '#ff5c74';
const criticalBorderColor = '#f9546d';

const highColor = '#ff6840';
const highBorderColor = '#ee6b49';

const mediumColor = '#ffa052';
const mediumBorderColor = '#f19d5b';

const lowColor = '#f9f486';
const lowBorderColor = '#f0ed94';

const unknownColor = '#f2ffdd';
const unknownBorderColor = '#e9f4d7';

const totalBorderColor = '#e0e5eb';

const fontSize = '0.75rem';

const cveCountCardStyle = (theme) => ({
  display: 'flex',
  alignItems: 'center',
  paddingLeft: '0.5rem',
  paddingRight: '0.5rem',
  color: theme.palette.primary.main,
  fontSize: fontSize,
  fontWeight: '600',
  borderRadius: '3px',
  marginBottom: '0',
  cursor: 'pointer'
});

function VulnerabilitiyCountCard(props) {
  const { total, critical, high, medium, low, unknown, filterBySeverity } = props;

  return (
    <Stack direction="row" spacing="0.5em">
      <Tooltip title="Total" onClick={() => filterBySeverity('')}>
        <Box
          sx={(theme) => ({
            ...cveCountCardStyle(theme),
            border: '1px solid ' + totalBorderColor
          })}
        >
          Total {total}
        </Box>
      </Tooltip>
      <Box
        sx={{
          fontSize: fontSize,
          display: 'flex',
          flexWrap: 'wrap',
          alignItems: 'center',
          gap: '0.5em'
        }}
      >
        <Tooltip title="Critical" onClick={() => filterBySeverity('CRITICAL')}>
          <Box
            sx={(theme) => ({
              ...cveCountCardStyle(theme),
              backgroundColor: criticalColor,
              border: '1px solid ' + criticalBorderColor
            })}
          >
            C {critical}
          </Box>
        </Tooltip>
        <Tooltip title="High" onClick={() => filterBySeverity('HIGH')}>
          <Box
            sx={(theme) => ({
              ...cveCountCardStyle(theme),
              backgroundColor: highColor,
              border: '1px solid ' + highBorderColor
            })}
          >
            H {high}
          </Box>
        </Tooltip>
        <Tooltip title="Medium" onClick={() => filterBySeverity('MEDIUM')}>
          <Box
            sx={(theme) => ({
              ...cveCountCardStyle(theme),
              backgroundColor: mediumColor,
              border: '1px solid ' + mediumBorderColor
            })}
          >
            M {medium}
          </Box>
        </Tooltip>
        <Tooltip title="Low" onClick={() => filterBySeverity('LOW')}>
          <Box
            sx={(theme) => ({
              ...cveCountCardStyle(theme),
              backgroundColor: lowColor,
              border: '1px solid ' + lowBorderColor
            })}
          >
            L {low}
          </Box>
        </Tooltip>
        <Tooltip title="Unknown" onClick={() => filterBySeverity('UNKNOWN')}>
          <Box
            sx={(theme) => ({
              ...cveCountCardStyle(theme),
              backgroundColor: unknownColor,
              border: '1px solid ' + unknownBorderColor
            })}
          >
            U {unknown}
          </Box>
        </Tooltip>
      </Box>
    </Stack>
  );
}

export default VulnerabilitiyCountCard;
